# Maybe implement reserved variables? like $command to get the input command.
org: RickyNJ
#caching: false
devices:
  - name: modem
    port:
      - 22
      - 27
    prompt: "$ "
    vars:
      ${deviceId}: "modem1"
      ${state}: "enabled"
      ${ram}: "empty"
    commands:
      - command: show name
        response: my name is ${deviceId}

      - command: set name ${var}
        condition:
          - if: ${var} = ${deviceId}
            response: "name is already ${var}"
          - else:
            response: "setting name to ${var}"
            operation: ${var} -> ${deviceId}

      - command: poweroff
        condition:
          - switch: ${state}
            cases:
            - case: enabled
              response: "turning device off"
              operation: disabled -> ${state}
            - case: disabled
              response: "device already turned off"
          - if: ${ram} == empty
            response: "another conditional response"

      - command: reset
        response: resetting to default
        operation: reset

      - command: show interfaces ${var}
        multiPartResponse:
          - "SHOWING INTERFACES"
          - "INTERFACE ${var}"
          - "INTERFACE ${deviceId}"
          - "INTERFACE ${state}"
          - "INTERFACE ${ram}"
        delay: 1

      - command: print interfaces ${var}
        response: showing variable interface
        allowed_values:
          - "modem1"
          - "modem2"
          - "modem3"
        operation: ${var} -> ${deviceId}

      - command: show interface file
        responseFile: show_interface_all.txt

  - name: modem2
    port: 25
    vars:
      ${deviceId}: "modem2"
      ${state}: "enabled"
    commands:
      - command: show name
        response: my name is ${deviceId}
      - command: print interfaces ${var}
        response: showing interface ${var}
        delay: 2
        allowed_values:
          - "hello"
          - "hey_there"
          - "false"
      - command: show interface file
        responseFile: show_interface_all.txt